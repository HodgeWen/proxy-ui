---
phase: 15-auth-surface-animation-completion
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web/src/pages/Login.tsx
autonomous: true
requirements: [UIANM-02, UIANM-04]
must_haves:
  truths:
    - "登录页主卡片首屏入场时具备 fade+zoom 动效，且不出现布局跳动。"
    - "登录页提交与勾选控件继承共享组件悬停/焦点过渡语义，与全站按钮/卡片/表格行节奏一致。"
    - "在 prefers-reduced-motion=reduce 场景下，登录页入场动效可被禁用但交互可用性不受影响。"
  artifacts:
    - path: "web/src/pages/Login.tsx"
      provides: "登录页 shared primitives + entrance wrapper 实现"
      contains: "animate-in fade-in zoom-in-95 duration-300 fill-mode-both motion-reduce:animate-none"
  key_links:
    - from: "web/src/pages/Login.tsx"
      to: "web/src/components/ui/button.tsx"
      via: "提交操作改为共享 Button 以继承统一 hover 过渡"
      pattern: "import .*Button.* from \"@/components/ui/button\""
    - from: "web/src/pages/Login.tsx"
      to: "web/src/components/ui/card.tsx"
      via: "认证容器改为 Card 语义容器并继承 hover:border-ring/50"
      pattern: "import .*Card.* from \"@/components/ui/card\""
---

<objective>
完成 Login 页面对 Phase 11 动效与交互基线的补齐，消除该页面对 raw 控件样式的依赖。

Purpose: 让登录入口与主应用页共享同一套入场和悬停语言，避免 Phase 15 再次出现 auth surface 漂移。
Output: `web/src/pages/Login.tsx` 完成 shared primitives + entrance animation 对齐。
</objective>

<execution_context>
@/home/whj/.claude/get-shit-done/workflows/execute-plan.md
@/home/whj/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-auth-surface-animation-completion/15-RESEARCH.md
@web/src/pages/Login.tsx
@web/src/components/ui/button.tsx
@web/src/components/ui/card.tsx
@web/src/components/ui/input.tsx
@web/src/components/ui/checkbox.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: 登录页切换到共享组件以继承统一 hover 过渡</name>
  <files>web/src/pages/Login.tsx</files>
  <action>将 Login 页中的 raw `button/input/checkbox` 与卡片容器替换为共享 UI primitives（`Button`/`Input`/`Checkbox`/`Card`，标签可用 `Label`）；保持现有字段、校验、请求体与 `/api/login` 交互逻辑完全不变；保留 `w-full max-w-sm` 的容器尺寸约束，避免视觉回归和布局变化。</action>
  <verify>npm --prefix web run build && npm --prefix web exec eslint src/pages/Login.tsx</verify>
  <done>Login 页主操作控件与容器均通过共享组件渲染，hover/focus 过渡与全站 Button/Card/TableRow 节奏一致。</done>
</task>

<task type="auto">
  <name>Task 2: 为登录卡片接入无布局偏移的入场动效基线</name>
  <files>web/src/pages/Login.tsx</files>
  <action>在 Login 页面稳定外层包裹 auth 卡片，应用基线类 `animate-in fade-in zoom-in-95 duration-300 fill-mode-both motion-reduce:animate-none`；动效仅用于首屏进入，不影响表单错误提示或 loading 状态刷新；禁止引入新动画库、禁止添加 JS 定时器/手写 keyframes。</action>
  <verify>npm --prefix web run build，并在浏览器手动验证 `/login` 首次渲染无抖动；DevTools 模拟 `prefers-reduced-motion: reduce` 时入场动效关闭。</verify>
  <done>登录卡片在默认动效环境下首屏平滑进入，在 reduced-motion 环境下无入场动画且功能保持可用。</done>
</task>

</tasks>

<verification>
1. `npm --prefix web run build` 通过。  
2. 打开 `/login`：卡片出现 fade+zoom 入场效果，无 layout shift。  
3. 登录按钮 hover 与主应用页面按钮 hover 节奏一致；卡片边框 hover 反馈与共享 Card 语义一致。  
4. `prefers-reduced-motion: reduce` 下动画不播放，表单可正常提交与报错展示。
</verification>

<success_criteria>
- Login 页面满足 UIANM-02：卡片入场动效已接入 Phase 11 基线且无布局偏移。  
- Login 页面满足 UIANM-04：交互控件与容器继承共享 hover 过渡体系。  
- 不新增任何 npm/Go 依赖，不修改认证 API 合同。
</success_criteria>

<output>
After completion, create `.planning/phases/15-auth-surface-animation-completion/15-01-SUMMARY.md`
</output>
